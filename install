#!/usr/bin/env zsh

cp -f ~/dotfiles/terminal/tmux.conf ~/.tmux.conf
cp -f ~/dotfiles/terminal/zshrc ~/.zshrc

# Neovim
if [ ! $SPIN ]; then
    brew install --HEAD neovim
fi

rm -rf ~/.config/nvim
cp -r ~/dotfiles/nvim ~/.config/

nvim --headless -c 'autocmd User PackerComplete quitall' -c 'PackerSync'

# zsh setup
if test -d ~/.oh-my-zsh; then
    rm -rf ~/.oh-my-zsh
fi
git clone https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh

mkdir -p $HOME/.oh-my-zsh/custom
cp -r ~/dotfiles/terminal/custom/* ~/.oh-my-zsh/custom/

mkdir -p $HOME/.oh-my-zsh/custom/plugins
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $HOME/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting

mkdir -p $HOME/.oh-my-zsh/custom/themes
git clone https://github.com/romkatv/powerlevel10k.git $HOME/.oh-my-zsh/custom/themes/powerlevel10k --depth=1

source $ZSH/oh-my-zsh.sh

git config --global core.editor nvim
git config --global user.name 'Chad Cole'
